{% extends "baseapp/layout.html" %}
      
{% block title %}
Model queries
{% endblock %}

{% block body %}
<h1>Test model queries</h1>
<br>
<hr>
<h5>Patient with age > 10</h5>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
        <th scope="col">S.No</th>
        
        <th scope="col">SQL Query</th>
        <th scope="col">Result</th>
        <th scope="col">original Query</th>
    </tr>
  </thead>
  <tbody>
    {% for i in patients_age_greaterthan35_key %}
    <tr>        
        <th scope="row">1</th>
        <td>{{ patients_age_greaterthan35_key.query }}</td>
        <td>{{ i.first_name }} {{ i.last_name }} </td>
        <td>{{ original_query1 }} </td>
    </tr>
    {% endfor %}
  </tbody>
</table>

<!--next table name stats with J, last name with c-->
<hr>
<h5>first_name starts with J, last name with c</h5>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
        <th scope="col">S.No</th>
        
        <th scope="col">SQL Query</th>
        <th scope="col">Result</th>
        <th scope="col">original Query</th>
    </tr>
  </thead>
  <tbody>

    {% for i in patient_fname_lastname_key %}
    <tr>        
        <th scope="row">2</th>
        
        <td>{{ patient_fname_lastname_key.query }}</td>
        <td>{{ i.first_name }} {{ i.last_name }} </td>
        <td>{{ original_query2 }} </td>
    </tr>
    {% endfor %}

  </tbody>
</table>

<!--exclude all patients whose first_name starts with j(case insensitive)-->
<hr>
<h5>exclude all patients whose first_name starts with j(case insensitive)</h5>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
        <th scope="col">S.No</th>
        
        <th scope="col">SQL Query</th>
        <th scope="col">Result</th>
        <th scope="col">original Query</th>
    </tr>
  </thead>
  <tbody>

    {% for i in patient_firtstname_exclude_j %}
    <tr>        
        <th scope="row">3</th>
        
        <td>{{ patient_firtstname_exclude_j.query }}</td>
        <td>{{ i.first_name }} {{ i.last_name }} </td>
        <td>{{ original_query3 }} </td>
    </tr>
    {% endfor %}

  </tbody>
</table>
<br>
<!--show n'th user in this case 2nd [0],[1]...-->
<hr>
<h5>show n'th user in this case 2nd [0],[1]...</h5>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
        <th scope="col">S.No</th>
        
        <th scope="col">SQL result</th>
        <th scope="col">Result</th>
        <th scope="col">original Query</th>
    </tr>
  </thead>
  <tbody>

    
    <tr>        
        <th scope="row">4</th>
        
        <td>{{patients_nth_record }}</td>
        <td>{{ patients_nth_record.first_name }} {{ patients_nth_record.last_name }} </td>
        <td>{{ original_query4 }} </td>
    </tr>
    

  </tbody>
</table>
<br>
<!--show average age from all patients-->
<hr>
<h5>show average age from all patients USING !!Aggregation!!</h5>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
        <th scope="col">S.No</th>
        
        <th scope="col">SQL result</th>
        <th scope="col">Result</th>
        <th scope="col">original Query</th>
    </tr>
  </thead>
  <tbody>

    
    <tr>        
        <th scope="row">5</th>
        
        <td>{{ patient_avg_age }}</td>
        <td> </td>
        <td>{{ original_query5 }} </td>
    </tr>
    

  </tbody>
</table>

<!--Patient count-->
<hr>
<h5>Patient count</h5>
<table class="table table-striped table-hover">
  <thead class="table-dark">
    <tr>
        <th scope="col">S.No</th>
        
        <th scope="col">SQL result</th>
        <th scope="col">Result</th>
        <th scope="col">original Query</th>
    </tr>
  </thead>
  <tbody>

    
    <tr>        
        <th scope="row">6</th>
        
        <td>{{ patient_count }}</td>
        <td> </td>
        <td>{{ original_query6 }} </td>
    </tr>
    

  </tbody>
</table>

{% endblock %}
